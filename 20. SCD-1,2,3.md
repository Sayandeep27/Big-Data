# Slowly Changing Dimension (SCD) — Complete Guide (Types 1, 2, 3)

---

## What is Slowly Changing Dimension (SCD)?

In **Data Warehousing**, a **Dimension Table** stores descriptive information about business entities such as **Customer, Product, Employee, Location**, etc.

But in real life, these details **change slowly over time**.

Examples:

* Customer changes address
* Employee gets promoted
* Product price changes
* City name changes

These types of changes are called **Slowly Changing Dimensions (SCD)**.

**Definition:**

> Slowly Changing Dimension (SCD) is a concept in Data Warehousing used to manage and track changes in dimension data over time.

---

## Why Do We Need SCD?

Because businesses often need answers like:

* What was the customer address last year?
* Which city did the employee belong to earlier?
* What was the old product category?

If we simply update the data, **old history will be lost**.

SCD helps us:

* Preserve historical data
* Track changes over time
* Perform accurate analysis and reporting

---

## Real-Life Example

Suppose we have a **Customer Dimension Table**.

| Customer_ID | Name  | City  |
| ----------- | ----- | ----- |
| 101         | Rahul | Delhi |

Now Rahul moves to **Mumbai**.

What should we do?

There are different strategies → These strategies are called **SCD Types**.

---

# Types of Slowly Changing Dimension

* SCD Type 1 → Overwrite
* SCD Type 2 → Add New Row
* SCD Type 3 → Add New Column

---

# SCD Type 1 — Overwrite (No History Maintained)

## Concept

In **Type 1**, we simply **update the old value with the new value**.

Old data is **lost permanently**.

---

## When to Use

* When history is **not important**
* When correction is required (spelling mistake, wrong data)

---

## Example

### Before Change

| Customer_ID | Name  | City  |
| ----------- | ----- | ----- |
| 101         | Rahul | Delhi |

Rahul moves to Mumbai.

### After Change (Overwrite)

| Customer_ID | Name  | City   |
| ----------- | ----- | ------ |
| 101         | Rahul | Mumbai |

---

## Key Points

* No historical tracking
* Only latest data available
* Simple and fast
* Storage required is minimal

---

## SQL Example

```sql
UPDATE customer_dim
SET city = 'Mumbai'
WHERE customer_id = 101;
```

---

# SCD Type 2 — Add New Row (Full History Maintained)

## Concept

In **Type 2**, we **do not update** the old record.

Instead, we **insert a new row** with the updated information.

This preserves **complete history**.

---

## Additional Columns Used

Common columns:

* Start_Date
* End_Date
* Is_Current
* Version

---

## Example

### Before Change

| Customer_ID | Name  | City  | Start_Date | End_Date | Is_Current |
| ----------- | ----- | ----- | ---------- | -------- | ---------- |
| 101         | Rahul | Delhi | 2022-01-01 | NULL     | Yes        |

Rahul moves to Mumbai in 2024.

---

### After Change (Insert New Row)

| Customer_ID | Name  | City   | Start_Date | End_Date   | Is_Current |
| ----------- | ----- | ------ | ---------- | ---------- | ---------- |
| 101         | Rahul | Delhi  | 2022-01-01 | 2024-01-01 | No         |
| 101         | Rahul | Mumbai | 2024-01-02 | NULL       | Yes        |

---

## Key Points

* Full historical tracking
* Multiple rows per customer
* Most commonly used SCD type
* Requires more storage

---

## SQL Example

```sql
-- Expire old record
UPDATE customer_dim
SET end_date = '2024-01-01',
    is_current = 'No'
WHERE customer_id = 101
AND is_current = 'Yes';

-- Insert new record
INSERT INTO customer_dim
(customer_id, name, city, start_date, end_date, is_current)
VALUES (101, 'Rahul', 'Mumbai', '2024-01-02', NULL, 'Yes');
```

---

# SCD Type 3 — Add New Column (Limited History Maintained)

## Concept

In **Type 3**, we add **new column(s)** to store previous value.

Only **limited history** is maintained (usually current + previous).

---

## When to Use

* When only previous value is required
* When full history is not necessary

---

## Example

### Table Structure

| Customer_ID | Name | Current_City | Previous_City |
| ----------- | ---- | ------------ | ------------- |

### Before Change

| Customer_ID | Name  | Current_City | Previous_City |
| ----------- | ----- | ------------ | ------------- |
| 101         | Rahul | Delhi        | NULL          |

Rahul moves to Mumbai.

---

### After Change

| Customer_ID | Name  | Current_City | Previous_City |
| ----------- | ----- | ------------ | ------------- |
| 101         | Rahul | Mumbai       | Delhi         |

---

## Key Points

* Stores only limited history
* Requires extra columns
* Easy to implement
* Not suitable for long-term history tracking

---

## SQL Example

```sql
UPDATE customer_dim
SET previous_city = current_city,
    current_city = 'Mumbai'
WHERE customer_id = 101;
```

---

# Comparison of SCD Types

| Feature          | Type 1 | Type 2      | Type 3      |
| ---------------- | ------ | ----------- | ----------- |
| History Stored   | No     | Full        | Limited     |
| Data Loss        | Yes    | No          | Partial     |
| Rows per Record  | One    | Multiple    | One         |
| Storage Required | Low    | High        | Medium      |
| Complexity       | Simple | Complex     | Medium      |
| Most Used        | Rare   | Very Common | Less Common |

---

# When to Use Which SCD Type?

## Use Type 1

* Data correction
* Spelling mistakes
* Non-critical attributes

---

## Use Type 2

* Audit requirements
* Regulatory reporting
* Customer behavior analysis
* Historical reporting

---

## Use Type 3

* Need only previous value
* Trend comparison (current vs previous)

---

# Interview Questions (Very Important)

## 1. Which SCD type is most commonly used?

**Answer:** Type 2 because it maintains full history.

---

## 2. Which SCD type overwrites data?

**Answer:** Type 1

---

## 3. Which SCD type uses additional columns?

**Answer:** Type 3

---

## 4. Which SCD type maintains multiple rows for same key?

**Answer:** Type 2

---

# Final Summary

* Slowly Changing Dimension manages changes in dimension tables.
* Type 1 → Overwrite (No history)
* Type 2 → New row (Full history)
* Type 3 → New column (Limited history)
* Type 2 is the **most important and most used** in real-world data warehouses.

---

**End of Document**
